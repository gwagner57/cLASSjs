<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta charset="UTF-8"/>
 <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <title>The cLASSjs library</title>
  <meta name="viewport" content="width=device-width, initial-scale = 1.0" />
 <meta name="description"
       content="cLASSjs is a JavaScript library for model-based app development, defining a semantically rich concept of classes with property ranges and other property constraints. cLASSjs can be used as the model component in a Model-View-Controller (MVC) application. It helps to avoid boilerplate code for data storage management, constraint validation and CRUD user interfaces."/>
 <!-- Facebook Open Graph annotations -->
 <meta property="og:site_name" content="cLASSjs"/>
 <meta property="og:title" content="The cLASSjs library"/>
 <meta property="og:locale" content="en" />
 <meta property="og:description"
       content="cLASSjs is a JavaScript library for model-based app development, defining a semantically rich concept of classes with property ranges and other property constraints. cLASSjs can be used as the model component in a Model-View-Controller (MVC) application. It helps to avoid boilerplate code for data storage management, constraint validation and CRUD user interfaces."/>
 <meta property="og:url" content="https://dpmn.info/"/>
 <meta property="og:image" content="https://dpmn.info/img/DPMN.png"/>  <!-- recommended 1200 x 630 -->
 <meta name="twitter:card" content="summary_large_image"/>
 <link rel="icon" type="image/png" href="img/favicon32px.png" sizes="32x32"/>
 <link rel="icon" type="image/png" href="img/favicon16px.png" sizes="16x16"/>
 
 <link rel="stylesheet" type="text/css" href="css/normalize.css" />
 <link rel="stylesheet" type="text/css" href="css/prio-menu.css" />
 <link rel="stylesheet" type="text/css" href="css/dpmn.css" />
</head>
<body>
 <header>
 <div id="navigation" class="priority-nav">
   <nav id="menu">
    <ul id="menu-closed">
     <li><a href="./index.html">Home</a></li>
     <li><a href="./examples">Examples</a></li>
     <li><a href="./reading">Tutorials/Articles</a></li>
     <li><a href="./faq.html" title="Frequently Asked Questions">FAQ</a></li>
     <li><a href="#menu-closed">&#215;</a></li>
     <li><a href="#menu">&#9776;</a></li>
    </ul>
   </nav>
 </div>
 <div id="share"><button id="share-this" title="Share this"><svg width="20" height="20" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
 <g transform="translate(0 -552.36)">
  <path d="m380.24 566.95a62.704 62.704 0 0 0 -62.704 62.704 62.704 62.704 0 0 0 1.956 15.302l-173.93 100.42a62.704 62.704 0 0 0 -43.011 -17.184 62.704 62.704 0 0 0 -62.704 62.704 62.704 62.704 0 0 0 62.704 62.704 62.704 62.704 0 0 0 43.05 -17.163l173.91 100.41a62.704 62.704 0 0 0 -1.9735 15.291 62.704 62.704 0 0 0 62.704 62.704 62.704 62.704 0 0 0 62.704 -62.704 62.704 62.704 0 0 0 -62.704 -62.704 62.704 62.704 0 0 0 -42.42 16.61l-174.32-100.66a62.704 62.704 0 0 0 1.7706 -14.493 62.704 62.704 0 0 0 -1.774 -14.493l174.35-100.66a62.704 62.704 0 0 0 42.406 16.621 62.704 62.704 0 0 0 62.704 -62.704 62.704 62.704 0 0 0 -62.704 -62.704z" fill="black" /></g></svg> Share</button>
 <ul class='links'>
 <li class='share facebook' title="Share on Facebook"><svg aria-hidden="true" class="icon-social" xmlns="http://www.w3.org/2000/svg"><symbol id="social-facebook" viewBox="0 0 18 18"><path d="M15.7,1.5H2.3c-0.5,0-0.8,0.4-0.8,0.8v13.3c0,0.5,0.4,0.8,0.8,0.8h7.2v-5.8h-2V8.4h2V6.8c0-1.9,1.2-3,2.9-3 c0.8,0,1.5,0.1,1.7,0.1v2l-1.2,0c-0.9,0-1.1,0.4-1.1,1.1v1.4h2.2l-0.3,2.3h-1.9v5.8h3.8c0.5,0,0.8-0.4,0.8-0.8V2.3 C16.5,1.9,16.1,1.5,15.7,1.5z"></path></symbol><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#social-facebook"/></svg></li>
 <li class='share twitter' title="Share on Twitter"><svg aria-hidden="true" class="icon-social" xmlns="http://www.w3.org/2000/svg"><symbol id="social-twitter" viewBox="0 0 18 18"><path d="M16.5,4.3c-0.6,0.2-1.1,0.4-1.8,0.5c0.6-0.4,1.1-1,1.4-1.7c-0.6,0.4-1.3,0.6-2,0.8c-0.6-0.6-1.4-1-2.2-1 c-1.7,0-3.1,1.4-3.1,3.1c0,0.2,0,0.5,0.1,0.7C6.3,6.5,4.1,5.3,2.5,3.4C2.3,3.9,2.1,4.4,2.1,5c0,1.1,0.5,2,1.4,2.6 c-0.5,0-1-0.2-1.4-0.4c0,0,0,0,0,0c0,1.5,1.1,2.8,2.5,3.1c-0.3,0.1-0.5,0.1-0.8,0.1c-0.2,0-0.4,0-0.6-0.1c0.4,1.2,1.5,2.1,2.9,2.2 c-1.1,0.8-2.4,1.3-3.8,1.3c-0.2,0-0.5,0-0.7,0c1.4,0.9,3,1.4,4.7,1.4c5.7,0,8.8-4.7,8.8-8.9c0-0.1,0-0.3,0-0.4 C15.6,5.5,16.1,4.9,16.5,4.3"></path></symbol><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#social-twitter"/></svg></li>
 <li class='share linkedin' title="Share on LinkedIn"><svg aria-hidden="true" class="icon-social" xmlns="http://www.w3.org/2000/svg"><symbol id="social-linkedin" viewBox="0 0 18 18"><path d="M15.4,1.5H2.6C2,1.5,1.5,2,1.5,2.6v12.8c0,0.6,0.5,1.1,1.1,1.1h12.8c0.6,0,1.1-0.5,1.1-1.1V2.6C16.5,2,16,1.5,15.4,1.5z M3.8,7.1H6v7.2H3.8V7.1z M4.9,6.1c-0.7,0-1.3-0.6-1.3-1.3c0-0.7,0.6-1.3,1.3-1.3c0.7,0,1.3,0.6,1.3,1.3C6.2,5.6,5.6,6.1,4.9,6.1z M14.5,14.3h-2.3v-3.5c0-0.8,0-1.9-1.2-1.9c-1.2,0-1.4,0.9-1.4,1.8v3.5H7.4V7.1h2.2v1h0c0.3-0.6,1-1.2,2.1-1.2 c2.3,0,2.7,1.5,2.7,3.4V14.3z"></path></symbol><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#social-linkedin"/></svg></li>
 <li class='share email' title="Share with Email"><a aria-label="Share with Email" href="" target="_blank"><svg aria-hidden="true" class="icon-social" xmlns="http://www.w3.org/2000/svg"><symbol id="social-mail" viewBox="0 0 18 18"><path d="M9,8.2L3,4.5h12L9,8.2z M15,13.5H3V6l6,3.8L15,6V13.5z M15,3H3C2.2,3,1.5,3.7,1.5,4.5l0,9C1.5,14.3,2.2,15,3,15 h12c0.8,0,1.5-0.7,1.5-1.5v-9C16.5,3.7,15.8,3,15,3z"></path></symbol><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#social-mail"/></svg></a></li>
 </ul></div>
 </header>
 <main>
  <h1>cLASSjs</h1>
  <p>A JS library for defining</p><ol>
      <li>enumerations;</li>
      <li>constructor-based classes (and class hierarchies) with semantic meta-data (e.g., for declarative constraint validation);</li>
      <li>storage adapters that facilitate switching from one storage technology (such as IndexedDB) to another one (such as MySQL);</li>
      <li>view models for model-based user interfaces.</li>
    </ol><h2>Use Case 1: Handling Enumerations and Enumeration Attributes</h2><h3>Defining an Enumeration</h3><p><span
  style="font-family:monospace;">var WeatherStateEL = new eNUMERATION ("WeatherStateEL", </span></p><pre> ["sunny", "partly cloudy", "cloudy", "cloudy with rain", "rainy"]);</pre><h3><a
  aria-hidden="true" class="anchor" href="#using-an-enumeration-as-the-range-of-an-attribute"
  id="user-content-using-an-enumeration-as-the-range-of-an-attribute"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1"
      viewBox="0 0 16 16" width="16">
      <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
            fill-rule="evenodd"></path>
    </svg></a>Using an Enumeration as the Range of an Attribute</h3><pre>var Weather = new cLASS({
    Name: "Weather",
    properties: {
      "weatherState": {range: WeatherStateEL, label: "Weather conditions"},
      "temperature": {range: "Decimal", label: "Temperature"}
    },
    methods: {...}
});
</pre><h3><a aria-hidden="true" class="anchor" href="#using-enumeration-literals" id="user-content-using-enumeration-literals"><svg aria-hidden="true"
      class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
      <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
            fill-rule="evenodd"></path>
    </svg></a>Using Enumeration Literals</h3><p>Recall that <em>enumeration literals</em> are constants that stand for a positive integer (the
  <em>enumeration index</em>).</p><p>For instance, the enum literal <code>WeatherStateEL.SUNNY</code> stands for the enum index 1. In program code, we
  do not use the enum index, but rather the enum literal. For instance,</p><pre>var theWeather = new Weather({
      weatherState: WeatherStateEL.SUNNY, // do not use the enum index value 1
      temperature: 30
})
</pre><h3><a aria-hidden="true" class="anchor" href="#looping-over-an-enumeration" id="user-content-looping-over-an-enumeration"><svg
      aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16">
      <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
            fill-rule="evenodd"></path>
    </svg></a>Looping over an Enumeration</h3><p>We loop over the enumeration <code>WeatherStateEL</code> with a <code>for</code> loop counting from 1
  to <code>WeatherStateEL.MAX</code>:</p><pre>for (let weatherState = 1; weatherState &lt;= WeatherStateEL.MAX; weatherState++) {
  switch (weatherState) {
  case WeatherStateEL.SUNNY: 
    ...
    break;
  case WeatherStateEL.PARTLY_CLOUDY: 
    ...
    break;
  }
}
</pre><h2><a aria-hidden="true" class="anchor" href="#use-case-2-flexible-data-storage-management-with-storage-adapters"
  id="user-content-use-case-2-flexible-data-storage-management-with-storage-adapters"><svg aria-hidden="true" class="octicon octicon-link" height="16"
      version="1.1" viewBox="0 0 16 16" width="16">
      <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
            fill-rule="evenodd"></path>
    </svg></a>Use Case 2: Flexible Data Storage Management with Storage Adapters</h2><p>cLASSjs comes with a sTORAGEmANAGER class and two storage
  adapters for using <code>localStorage</code> or <code>ìndexedDB</code>.</p><p>A storage manager works like a wrapper of the methods of an adapter.
  The storage manager methods invoke corresponding methods of its adapter. The following code example shows how to use a storage manager for invoking
  a data retrieval operation on a model class <code>Book</code>:</p><pre><code>var storageAdapter = {name:"IndexedDB", dbName:"Test"};
var storageManager = new sTORAGEmANAGER( storageAdapter);
storageManager.retrieveAll( Book).then( list); 
</code></pre><p>Since the IndexedDB technology is much more powerful, it is normally preferred for local data storage. However, older browsers (such
  as IE 9) may not support it. In this case we can easily fall back to LocalStorage in the following way:</p><pre>var storageAdapter = {dbName:"Test"},
    storageManager = null;
if (!("indexedDB" in window)) {
  console.log("This browser doesn't support IndexedDB. Falling back to LocalStorage.");
  storageAdapter.name = "LocalStorage";
} else {
  storageAdapter.name = "IndexedDB";
}
storageManager = new sTORAGEmANAGER( storageAdapter);
</pre><h2><a aria-hidden="true" class="anchor" href="#use-case-3-declarative-constraint-valdiation"
  id="user-content-use-case-3-declarative-constraint-valdiation"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1"
      viewBox="0 0 16 16" width="16">
      <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"
            fill-rule="evenodd"></path>
    </svg></a>Use Case 3: Declarative Constraint Valdiation</h2><p>cLASSjs allows defining property constraints in a model class created with
  cLASS:</p><pre>var Book = new cLASS({
  Name: "Book",
  properties: {
    "id": {range:"NonEmptyString", label:"ISBN", pattern:/\b\d{9}(\d|X)\b/,
        patternMessage:"The ISBN must be a 10-digit string or a 9-digit string followed by 'X'!"},
    "title": {range:"NonEmptyString", min: 2, max: 50}, 
    "year": {range:"Integer", min: 1459, max: util.nextYear()},
    "edition": {range:"PositiveInteger", optional: true}
  }
});
</pre><p>The constraints defined for a property in a model class can be checked on input/change and before submit in an HTML form and, in addition,
  before commit in the <code>add</code> and <code>update</code> methods of a storage manager, using the generic validation method
  <code>cLASS.check</code>, as shown in the following example:</p><pre>var formEl = document.querySelector("#Book-Create &gt; form");
// loop over Book.properties and add event listeners for validation on input
Object.keys( Book.properties).forEach( function (prop) {
  var propDecl = Book.properties[prop];
  formEl[prop].addEventListener("input", function () {
    var errMsg = <b>cLASS.check</b>( prop, propDecl, formEl[prop].value).message;
    formEl[prop].setCustomValidity( errMsg);
  });
});</pre>
 </main>
  <footer>
   <p>© 2019 G. Wagner (<a href="https://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC</a>), Brandenburg University of Technology, Germany</p>
 </footer>
<script>
var shareButton = document.getElementById("share-this"),
    shareLinkList = document.querySelector("ul.links"),
	canonicalUrlLinkElem = document.querySelector('link[rel=canonical]'),
	pageUrl = canonicalUrlLinkElem ? canonicalUrlLinkElem.href : document.URL,
    title = document.querySelector("meta[property='og:title']").getAttribute("content"),
    description = document.querySelector("meta[name='description']").getAttribute("content");
function setShareLinks() {
    var pageUrl = document.URL,
	    emailLinkEl = document.querySelector(".share.email > a");
    var descrUrlComp = encodeURIComponent( description);
    document.querySelector(".share.facebook").addEventListener("click", function () {
        url = "https://www.facebook.com/sharer.php?u=" + pageUrl;
        window.open(url,"NewWindow","");
    });
    document.querySelector(".share.twitter").addEventListener("click", function () {
        url = "https://twitter.com/intent/tweet?url=" + pageUrl + "&text=" + descrUrlComp;
        window.open(url,"NewWindow","");
    });
    document.querySelector(".share.linkedin").addEventListener("click", function () {
        url = "https://www.linkedin.com/shareArticle?mini=true&url=" + pageUrl;
        window.open(url,"NewWindow","");
    });
	emailLinkEl.href = "mailto:?subject=" + title + "&body=" + description + "%0A%0A" + pageUrl;  
};

if (navigator.share) {
  shareButton.style.display = "inline"
  shareButton.addEventListener('click', function () {
    navigator.share({
      title: title,
      url: pageUrl,
	  text: description
    }).then( function () {
      console.log("Thanks for sharing!");
    })
    .catch( console.error);
  });
} else {
  shareLinkList.style.display = "inline-block";
  setShareLinks();
}
</script></body>
</html>